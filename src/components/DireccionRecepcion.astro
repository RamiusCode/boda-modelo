---
// DireccionSalon.astro (o el nombre que uses)
---

<section class="py-4 px-4 relative">
  <div class="max-w-xl mx-auto text-center relative">
    <!-- T√çTULO DIRECCI√ìN -->
    <div class="mb-2" id="titulo-direccion">
      <h2
        class="font-charm text-2xl md:text-3xl text-[#C9A961] font-bold tracking-wide"
      >
        Recepci√≥n Social
      </h2>
    </div>

    <!-- üèõÔ∏è ICONO DIRECCI√ìN -->
    <div class="relative mb-4" id="icono-salon">
      <!-- ICONO CENTRAL -->
      <div class="flex justify-center">
        <img
          src="/imagenes/recepcion.png"
          alt="Icono de direcci√≥n"
          class="w-24 h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 object-contain icono-dorado"
        />
      </div>
    </div>

    <!-- T√çTULO DIRECCI√ìN -->
    <div class="mb-2" id="titulo-salon">
      <h2
        class="font-charm text-2xl md:text-3xl text-[#C9A961] font-bold tracking-wide"
      >
        Direcci√≥n
      </h2>
    </div>

    <!-- INFORMACI√ìN DE UBICACI√ìN -->
    <div class="mb-6" id="info-salon">
      <!-- Nombre del lugar -->
      <h3 class="font-charm text-xl md:text-2xl text-[#C9A961] font-bold mb-2">
        Local Castrillo
      </h3>

      <!-- Direcci√≥n -->
      <p
        class="font-charm text-lg md:text-xl text-[#B76E79] leading-relaxed mb-3"
      >
        Miraflores, Piso 9
      </p>

      <!-- Hora -->
      <p class="font-charm text-xl md:text-2xl text-[#B76E79] font-bold">
        Hora: 16:00
      </p>
    </div>

    <!-- BOT√ìN VER UBICACI√ìN PERSONALIZADO -->
    <div class="flex justify-center" id="boton-salon">
      <a
        href="https://maps.app.goo.gl/F73ysrjcp1CkaR4D6?g_st=iw"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-3 px-8 py-2 bg-[#B76E79] text-white rounded-full shadow-lg hover:shadow-xl hover:bg-[#a05d68] transition-all duration-300 hover:scale-105"
      >
        <!-- Icono de ubicaci√≥n -->
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
          ></path>
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>

        <!-- Texto del bot√≥n -->
        <span class="font-charm text-lg font-semibold">Ver Ubicaci√≥n</span>
      </a>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      // Estado inicial
      gsap.set("#icono-salon", { opacity: 0, scale: 0.8 });
      gsap.set("#titulo-salon", { opacity: 0, scale: 0.9 });
      gsap.set("#info-salon", { opacity: 0, scale: 0.9 });
      gsap.set("#boton-salon", { opacity: 0, scale: 0.9 });

      // ‚ú® ANIMACI√ìN SIMULT√ÅNEA - TODO AL MISMO TIEMPO
      ScrollTrigger.create({
        trigger: "#icono-salon",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => {
          const tl = gsap.timeline();

          // TODO aparece al mismo tiempo
          tl.to("#icono-salon, #titulo-salon, #info-salon, #boton-salon", {
            opacity: 1,
            duration: 1,
            ease: "power2.out",
          })
            // Animaciones individuales (simult√°neas)
            .to(
              "#icono-salon",
              {
                scale: 1,
                duration: 1,
                ease: "back.out(1.5)",
              },
              "<",
            )
            .to(
              "#titulo-salon, #info-salon, #boton-salon",
              {
                scale: 1,
                duration: 1,
                ease: "back.out(1.2)",
              },
              "<",
            );
        },
        onLeaveBack: () => {
          // Salida simult√°nea
          const tl = gsap.timeline();

          tl.to("#icono-salon, #titulo-salon, #info-salon, #boton-salon", {
            opacity: 0,
            duration: 0.5,
            ease: "power2.in",
          })
            .to(
              "#icono-salon",
              {
                scale: 0.8,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            )
            .to(
              "#titulo-salon, #info-salon, #boton-salon",
              {
                scale: 0.9,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            );
        },
      });

      console.log("üéâ Secci√≥n de Sal√≥n inicializada");
    });
  }
</script>

<style>
  /* Color iconos */
  .icono-dorado {
    filter: brightness(0) saturate(100%) invert(73%) sepia(17%) saturate(1089%)
      hue-rotate(358deg) brightness(92%) contrast(86%);
    transition:
      filter 0.3s ease,
      transform 0.3s ease;
  }
</style>
